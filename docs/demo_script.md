# Demo script (10–15 steps)

Цель демонстрации: показать полный цикл работы системы по ролям (admin → teacher → student) и что изменения сохраняются в SQLite.

Предусловия:
- Приложение собрано и запускается.
- В каталоге проекта присутствует `school.db`.
- Если расписание пустое, приложение при первом запуске выполнит `initializeDemoData()` и загрузит `schedule_42060*_newest.sql` (см. `main.cpp`).

---

## Шаги демонстрации

1. **Запуск приложения**
   - **Окно:** (стартовое)
   - **Действие:** запустить `app_gui.exe`
   - **Ожидается:** появляется окно `LoginWindow` (Авторизация)

2. **Проверка входа с неверными данными**
   - **Окно:** `LoginWindow`
   - **Действие:** ввести неверный `username/password`, нажать "Войти"
   - **Ожидается:** сообщение "Неверный логин или пароль", окно не закрывается

3. **Вход под администратором**
   - **Окно:** `LoginWindow`
   - **Действие:** ввести `username=admin`, `password=123`, нажать "Войти"
   - **Ожидается:** открывается `AdminWindow`

4. **Просмотр пользователей**
   - **Окно:** `AdminWindow`, вкладка Users
   - **Действие:** нажать обновление/перезагрузку списка (если есть), пролистать таблицу
   - **Ожидается:** таблица пользователей содержит роли `admin/teacher/student`

5. **Фильтрация пользователей по роли**
   - **Окно:** `AdminWindow`, вкладка Users
   - **Действие:** выбрать фильтр роли (например `teacher`)
   - **Ожидается:** отображаются только пользователи выбранной роли

6. **Создание нового преподавателя (teacher)**
   - **Окно:** `AdminWindow`, вкладка Users
   - **Действие:** нажать добавление пользователя, заполнить логин/пароль/ФИО, роль = `teacher`
   - **Ожидается:** новый пользователь появляется в таблице; при необходимости выбираются предметы/группы (teacher assignments)

7. **Создание нового студента (student)**
   - **Окно:** `AdminWindow`, вкладка Users
   - **Действие:** добавить пользователя с ролью `student`, выбрать группу и подгруппу
   - **Ожидается:** студент появляется в списке; для студента заполнены group/subgroup

8. **Просмотр расписания группы**
   - **Окно:** `AdminWindow`, вкладка Schedule
   - **Действие:** выбрать режим расписания "по группе" (если есть), выбрать группу 42060x, выбрать неделю цикла
   - **Ожидается:** сетка расписания заполняется занятиями

9. **Добавление/редактирование записи расписания**
   - **Окно:** `AdminWindow`, вкладка Schedule
   - **Действие:** добавить запись (день/пара/предмет/преподаватель/аудитория/тип), либо отредактировать существующую
   - **Ожидается:** запись появляется/обновляется; при конфликте система показывает предупреждение

10. **Переход в роль преподавателя**
   - **Окно:** `AdminWindow`
   - **Действие:** закрыть `AdminWindow` (или выйти), вернуться на логин
   - **Ожидается:** снова `LoginWindow`

11. **Вход под преподавателем**
   - **Окно:** `LoginWindow`
   - **Действие:** войти под существующим teacher-пользователем (демо teacher) или созданным на шаге 6
   - **Ожидается:** открывается `TeacherWindow`

12. **Просмотр расписания преподавателя**
   - **Окно:** `TeacherWindow`, вкладка Schedule
   - **Действие:** выбрать период (неделя цикла), при необходимости группу/подгруппу
   - **Ожидается:** отображается расписание преподавателя

13. **Журнал: выставить оценку**
   - **Окно:** `TeacherWindow`, вкладка Journal
   - **Действие:** выбрать группу → выбрать пару/урок → выбрать студента → сохранить оценку
   - **Ожидается:** оценка сохраняется и отображается как текущая

14. **Журнал: добавить пропуск**
   - **Окно:** `TeacherWindow`, вкладка Journal
   - **Действие:** для того же студента/урока указать часы пропуска и тип (excused/unexcused), сохранить
   - **Ожидается:** пропуск сохраняется и отображается

15. **Проверка глазами студента**
   - **Окно:** `LoginWindow` → `StudentWindow`
   - **Действие:** войти под студентом; открыть страницы расписания/оценок/пропусков
   - **Ожидается:**
     - расписание отображается
     - выставленная оценка видна в оценках
     - добавленный пропуск виден в пропусках
